/*“o˜^‚Æ‰{——*/

#include<stdio.h>
#include<string.h>

struct person{
	char	name[40];
	char	address[100];
	long	phone;
};


int main(void)
{
	struct person student[100];
	int mode, l, i = 0, n = 1;
	int lan = 0;
	
	FILE  *fp, *pw;
	char  filename[] = "data_test.txt";
	
	char  pass[100];
	char  type[100];
	char  Npass[100] = "NewPass";
	char  Cpass[100];
	
	int   key = 0;
	int   k = 0;
	int   end = 0;
	
	char  str1[100]  = {'\0'};
	char  str2[40]   = "name";
	long  str3       = {'\0'};
	char  str4[100]  = {'\0'}; //(‰¼)
	char  str5[40]   = {'\0'}; //(‰¼)
	long  str6       = {'\0'}; //(‰¼)
	
	printf("“o˜^‚Æ ‰{——\n\n");
	
	printf("y English:1 “ú–{Œê:2 ’†‘:3 z\n");
	printf("Language:");
	scanf("%d", &lan);
	
	for(k=0;k<4;k++){
		pw = fopen("password.txt", "r");
		fscanf(pw, "%s", pass);
		
		switch(lan){
			case 1:
				printf("\n***y NewPass zChange Password Key ***\n\n");
				printf("Password:");
			break;
			
			case 2:
				printf("\n***y NewPass zƒpƒXƒ[ƒh•ÏXƒL[ ***\n\n");
				printf("ƒpƒXƒ[ƒh:");
			break;
			
			case 3:
				printf("\n***y NewPass z–¨áùX‰üŠÖŒ® ***\n\n");
				printf("–¨áù:");
			break;
			
			default:
				printf("\n***y NewPass zChange Password Key ***\n\n");
				printf("Password:");
			break;
		}
		
		scanf("%s", &type);
		
		if(strcmp(pass, type)==0){//ƒpƒXƒ[ƒh“ü—Í
			switch(lan){
				case 1:
					printf("\n\ná  H E L L O  â\n\n");
				break;
				
				case 2:
					printf("\n\ná  ‚æ ‚¤ ‚± ‚»  â\n\n");
				break;
				
				case 3:
					printf("\n\ná  Š½ Œ}   â\n\n");
				break;
				
				default:
					printf("\n\ná  H E L L O  â\n\n");
				break;
			}
			
			key = 1;
			k = 5;
		}else if(strcmp(Npass, type)==0){//V‹KƒpƒXƒ[ƒh
			//‹ŒƒpƒXƒ[ƒhŠm”F
			switch(lan){
				case 1:
					printf("\nOld Password:");
				break;
				
				case 2:
					printf("\n‹ŒƒpƒXƒ[ƒh:");
				break;
				
				case 3:
					printf("\n‹Œ–¨áù:");
				break;
				
				default:
					printf("\nOld Password:");
				break;
			}
			
			scanf("%s", &type);
			//Šm”FŠ®—¹
			if(strcmp(pass, type)==0){
				fclose(pw);
				pw = fopen("password.txt", "w");
				
				switch(lan){
					case 1:
						printf("\n***y NewPass zNot Available! ***\n\n");
						printf("New Password:");
					break;
					
					case 2:
						printf("\n***y NewPass z‚ÍƒpƒXƒ[ƒh‚Ég—p‚Å‚«‚È‚¢ ***\n\n");
						printf("VƒpƒXƒ[ƒh:");
					break;
					
					case 3:
						printf("\n***y NewPass z›€•s”\İ–§áù’†g—p! ***\n\n");
						printf("V–§áù:");
					break;
					
					default:
						printf("\n***y NewPass zNot Available! ***\n\n");
						printf("New Password:");
					break;
				}
				
				scanf("%s", &pass);
				
				switch(lan){
					case 1:
						printf("\nConfirm Password:");
					break;
					
					case 2:
						printf("\nŠm”FƒpƒXƒ[ƒh:");
					break;
					
					case 3:
						printf("\nŠm”F–¨áù:");
					break;
					
					default:
						printf("\nOld Password:");
					break;
				}
				
				scanf("%s", &Cpass);
				
				if(strcmp(Cpass, pass)==0){
					switch(lan){
						case 1:
							printf("\ná Complete â\n");
						break;
						
						case 2:
							printf("\ná “o˜^Š®—¹ â\n");
						break;
						
						case 3:
							printf("\ná ’ûŠ®—¹ â\n");
						break;
						
						default:
							printf("\ná Complete â\n");
						break;
					}
					
					fprintf(pw, "%s", pass);
					k = 0;
				}else{
					//O‰ñ¸”s‚·‚é‚ÆI—¹
					switch(lan){
						case 1:
							printf("\ná Different â\n");
						break;
						
						case 2:
							printf("\ná Šm”F‚Å‚«‚Ü‚¹‚ñ â\n");
						break;
						
						case 3:
							printf("\ná –³–@æš›‰ â\n");
						break;
						
						default:
							printf("\ná Different â\n");
						break;
					}
					
					
				}
			//Šm”F•s³
			}else{
				switch(lan){
					case 1:
						printf("\ná Different â\n");
					break;
					
					case 2:
						printf("\ná Šm”F‚Å‚«‚Ü‚¹‚ñ â\n");
					break;
					
					case 3:
						printf("\ná –³–@æš›‰ â\n");
					break;
					
					default:
						printf("\ná Different â\n");
					break;
				}
			}
			
		}else{
			switch(k){
				case 0:
					switch(lan){
						case 1:
							printf("\n\n@ @@QQQQ@\n@@^@    \   _\n@^ ƒm@@ ( œ)@_\n b@( œ)@@@Ü  |\n b@@i__ƒmP@@ /@Who are U?-3-\n b@@@@@@@  /\n@_Q@@@¼R¿_\n@@@/L@@(,Q_._\n@ @/   @@ _Qƒm\n\n");
						break;
						
						case 2:
							printf("\n\n@ @@QQQQ@\n@@^@    \   _\n@^ ƒm@@ ( œ)@_\n b@( œ)@@@Ü  |\n b@@i__ƒmP@@ /@‚Ç‚¿‚ç—l‚Å‚·‚©?-3-\n b@@@@@@@  /\n@_Q@@@¼R¿_\n@@@/L@@(,Q_._\n@ @/   @@ _Qƒm\n\n");
						break;
						
						case 3:
							printf("\n\n@ @@QQQQ@\n@@^@    \   _\n@^ ƒm@@ ( œ)@_\n b@( œ)@@@Ü  |\n b@@i__ƒmP@@ /@’N?-3-\n b@@@@@@@  /\n@_Q@@@¼R¿_\n@@@/L@@(,Q_._\n@ @/   @@ _Qƒm\n\n");
						break;
						
						default:
							printf("\n\n@ @@QQQQ@\n@@^@    \   _\n@^ ƒm@@ ( œ)@_\n b@( œ)@@@Ü  |\n b@@i__ƒmP@@ /@Who are U?-3-\n b@@@@@@@  /\n@_Q@@@¼R¿_\n@@@/L@@(,Q_._\n@ @/   @@ _Qƒm\n\n");
						break;
					}
					
				break;
				
				case 1:
					switch(lan){
						case 1:
							printf("\n\n@@   ^PPPP_\n@  ^@„Ÿ@@  „Ÿ  _\n  ^@ iœj@ iœj_  Are U fooling me?-2-\n |@@@ i__l__j     |\n  _@@@ M ÜL@@^\n ^@@@@@@@     _\n");
						break;
						
						case 2:
							printf("\n\n@@   ^PPPP_\n@  ^@„Ÿ@@  „Ÿ  _\n  ^@ iœj@ iœj_  ‚¿‚å‚Á‚ÆŠ¨•Ù‚µ‚Ä‚­‚¾‚³‚¢‚æ... -2-\n |@@@ i__l__j     |\n  _@@@ M ÜL@@^\n ^@@@@@@@     _\n");
						break;
						
						case 3:
							printf("\n\n@@   ^PPPP_\n@  ^@„Ÿ@@  „Ÿ  _\n  ^@ iœj@ iœj_  Y›õ¥ö“I?-2-\n |@@@ i__l__j     |\n  _@@@ M ÜL@@^\n ^@@@@@@@     _\n");
						break;
						
						default:
							printf("\n\n@@   ^PPPP_\n@  ^@„Ÿ@@  „Ÿ  _\n  ^@ iœj@ iœj_  Are U fooling me?-2-\n |@@@ i__l__j     |\n  _@@@ M ÜL@@^\n ^@@@@@@@     _\n");
						break;
					}
					
				break;
				
				case 2:
					switch(lan){
						case 1:
							printf("\n\n      _QQ__________\n@@^@@        @ _\n  ^@@@_ƒm@   RA__\n^ @@ iœj @iœj  |\n|@ @@ @ i__l__j@ |  Are U sillyH-1-\n /@@@@ ¿ƒm ½@   ^\n(@ _@^ Qƒm@|@|\n._@g@@^QQ|@|  \n@ _   ^  QQQ ^ \n");
						break;
						
						case 2:
							printf("\n\n      _QQ__________\n@@^@@        @ _\n  ^@@@_ƒm@   RA__\n^ @@ iœj @iœj  |\n|@ @@ @ i__l__j@ |  ‚¨„‚è‚³‚ñAŸ“z‚Å‚·B-1-\n /@@@@ ¿ƒm ½@   ^\n(@ _@^ Qƒm@|@|\n._@g@@^QQ|@|  \n@ _   ^  QQQ ^ \n");
						break;
						
						case 3:
							printf("\n\n      _QQ__________\n@@^@@        @ _\n  ^@@@_ƒm@   RA__\n^ @@ iœj @iœj  |\n|@ @@ @ i__l__j@ |  ‰ñŒÚ... -1-\n /@@@@ ¿ƒm ½@   ^\n(@ _@^ Qƒm@|@|\n._@g@@^QQ|@|  \n@ _   ^  QQQ ^ \n");
						break;
						
						default:
							printf("\n\n      _QQ__________\n@@^@@        @ _\n  ^@@@_ƒm@   RA__\n^ @@ iœj @iœj  |\n|@ @@ @ i__l__j@ |  Are U sillyH-1-\n /@@@@ ¿ƒm ½@   ^\n(@ _@^ Qƒm@|@|\n._@g@@^QQ|@|  \n@ _   ^  QQQ ^ \n");
						break;
					}
					
				break;
			}
		}
		fclose(pw);
	}
	
	while(key){
		printf("\n\n");
		printf("***************************************************************************\n");
		printf("\n");
		switch(lan){
			case 1:
				printf("y Writing:1 Reading:2 Serching:3 Delete:4 z\ny End:0 z \n\n");
				printf("Select:");
			break;
			
			case 2:
				printf("y “o˜^:1 ‰{——:2 ŒŸõ:3 z\ny I—¹:0 z \n\n");
				printf("‘I‘ğ:");
			break;
			
			case 3:
				printf("y ’èˆÊ:1 àgæT:2 r:3 z\ny Š®:0 z \n\n");
				printf("‘I¢:");
			break;
			
			default:
				printf("y Writing:1 Reading:2 Serching:3 z\ny End:0 z \n\n");
				printf("Select:");
			break;
		}
		
		scanf("%d", &mode);
		
		switch(mode){
			//I—¹
			case 0:
				key = 0;
				end = 1;
			break;
			//‘‚«‚İ
			case 1:
				l=1;
				
				switch(lan){
					case 1:
						printf("\náNew Accountâ\n\n");
					break;
					
					case 2:
						printf("\náV‹K“o˜^â\n\n");
					break;
					
					case 3:
						printf("\náV’ûâ\n\n");
					break;
					
					default:
						printf("\náNew Accountâ\n\n");
					break;
				}
				
				while(l){
					fp = fopen(filename, "a");
					
					switch(lan){
						case 1:
							printf("name:");
						break;
						
						case 2:
							printf("–¼‘O:");
						break;
						
						case 3:
							printf("–½–¼:");
						break;
						
						default:
							printf("name:");
						break;
					}
					
					scanf("%s", &student[i].name);
					
					switch(lan){
						case 1:
							printf("address:");
						break;
						
						case 2:
							printf("ƒAƒhƒŒƒX:");
						break;
						
						case 3:
							printf("Zš¬:");
						break;
						
						default:
							printf("address:");
						break;
					}
					
					scanf("%s", &student[i].address);
					
					switch(lan){
						case 1:
							printf("phone number:");
						break;
						
						case 2:
							printf("“d˜b”Ô†:");
						break;
						
						case 3:
							printf("“d˜båjáù:");
						break;
						
						default:
							printf("phone number:");
						break;
					}
					
					scanf("%ld", &student[i].phone);
					
					fprintf(fp, "%s %s %ld\n", student[i].name, student[i].address, student[i].phone);
					
					fclose(fp);
					
					switch(lan){
						case 1:
							printf("\ny Countinue:1 End:0 z\n");
							printf("Select:");
						break;
						
						case 2:
							printf("\ny “ü—Í‚ğ‘±‚¯‚é:1 I—¹:0 z\n");
							printf("‘I‘ğ:");
						break;
						
						case 3:
							printf("\ny ‰„ã”:1 Š®:0 z\n");
							printf("‘I¢:");
						break;
						
						default:
							printf("\ny Countinue:1 End:0 z\n");
							printf("Select:");
						break;
					}
					
					scanf("%d", &l);
					
					i++;
					
					switch(lan){
						case 1:
							printf("\ná Complete â\n\n");
						break;
						
						case 2:
							printf("\ná “o˜^Š®—¹ â\n\n");
						break;
						
						case 3:
							printf("\ná ’ûŠ®—¹ â\n\n");
						break;
						
						default:
							printf("\ná Complete â\n\n");
						break;
					}
					
				}
			break;
			//‰{——
			case 2:
				switch(lan){
					case 1:
						printf("\ná Display â\n\n");
					break;
					
					case 2:
						printf("\ná ‰{—— â\n\n");
					break;
					
					case 3:
						printf("\ná àgæT â\n\n");
					break;
					
					default:
						printf("\ná Display â\n\n");
					break;
				}
				
				
				fp = fopen(filename, "r");
				
				n=1;
				
				while(n){
					fscanf(fp, "%s %s %ld", str1, str2, &str3);
					
					//“¯‚¶adress‚©‚Ç‚¤‚©”»’è
					if(strcmp(str2, str5)==0){
						n = 0;
					}else{
						printf("%s %s %ld\n", str1, str2, str3);
					}
					
					strcpy(str2, str5);
					
				}
				
				fclose(fp);
			break;
			//ŒŸõ
			case 3:
				//nameŒŸõ
				switch(lan){
					case 1:
						printf("Searching name:");
					break;
					
					case 2:
						printf("–¼‘OŒŸõ:");
					break;
					
					case 3:
						printf("–¼âiûõ:");
					break;
					
					default:
						printf("Searching name:");
					break;
				}
				
				scanf("%s", &str4);
				
				switch(lan){
					case 1:
						printf("\ná Result â\n\n");
					break;
					
					case 2:
						printf("\ná ŒŸõŒ‹‰Ê â\n\n");
					break;
					
					case 3:
						printf("\ná rõŒ‹‰Ê â\n\n");
					break;
					
					default:
						printf("\ná Result â\n\n");
					break;
				}
				
				fp = fopen(filename, "r");
				
				n=1;
				
				while(n){
					fscanf(fp, "%s %s %ld", str1, str2, &str3);
					
					//str1‚Ì’†‚©‚çstr4‚É‚ ‚½‚éŒÂŠ‚ª‚ ‚é‚©ŒŸõ
					if(strstr(str1, str4) != NULL){
						printf("%s %s %ld\n", str1, str2, str3);
						n = 0;
						
						
					}else if(strcmp(str2, str5)==0){
						switch(lan){
							case 1:
								printf("á None... â");
							break;
							
							case 2:
								printf("á ŠY“–‚È‚µ... â");
							break;
							
							case 3:
								printf("á •s“K—p... â");
							break;
							
							default:
								printf("á None... â");
							break;
						}
						
						n = 0;
					}else{
						n = 1;
					}
					
					strcpy(str2, str5);
					
				}
				
				fclose(fp);
			break;
			
			default:
				switch(lan){
					case 1:
						printf("Error\n\n");
					break;
					
					case 2:
						printf("‘Î‰o—ˆ‚Ü‚¹‚ñ\n\n");
					break;
					
					case 3:
						printf("öŒë\n\n");
					break;
				}
			break;
		}
	}
	if(end == 1){
		//³‹KI—¹
		switch(lan){
			case 1:
				printf("\n	  @ ________\n@@@@@/@@@@@@_\n@ _@ ^ Ü           Ü_ \n@( | /   -==A       (œ)R  @Thank U for playingI \n@| |b   Ü    (_l_) Ü  | \n|P)R_         Rƒm     ƒm \n|P) | /@@      @@@_\n");
			break;
			
			case 2:
				printf("\n	  @ ________\n@@@@@/@@@@@@_\n@ _@ ^ Ü           Ü_ \n@( | /   -==A       (œ)R  @‚Ü‚½A‚¢‚Â‚Å‚àŠJ‚¢‚Ä‚­‚êI \n@| |b   Ü    (_l_) Ü  | \n|P)R_         Rƒm     ƒm \n|P) | /@@      @@@_\n");
			break;
			
			case 3:
				printf("\n	  @ ________\n@@@@@/@@@@@@_\n@ _@ ^ Ü           Ü_ \n@( | /   -==A       (œ)R  @ÓÓ, ÄŒ©I \n@| |b   Ü    (_l_) Ü  | \n|P)R_         Rƒm     ƒm \n|P) | /@@      @@@_\n");
			break;
			
			default:
				printf("\n	  @ ________\n@@@@@/@@@@@@_\n@ _@ ^ Ü           Ü_ \n@( | /   -==A       (œ)R  @Thank U for playingI \n@| |b   Ü    (_l_) Ü  | \n|P)R_         Rƒm     ƒm \n|P) | /@@      @@@_\n");
			break;
		}
	}else{
		//•s³I—¹
		switch(lan){
			case 1:
				printf("     QQQQQ\n@ ^ @@@@  _\n ^@ „Ÿ @@ \ R@Overe the rainbow...\n|@i œj i œj\n|@@@i_l_j@ |\n _@@@@@@@^\n ^@@@@@@@R( :3\n @@@@@@@@(;@:3\n @@ i@@^Or PPi\n @@ l@ /@ ƒmAQƒm\n @@ l ^@@r @@l");
			break;
			
			case 2:
				printf("     QQQQQ\n@ ^ @@@@  _\n ^@ „Ÿ @@ \ R@‚¨‚Æ‚Æ‚¢—ˆ‚È\n|@i œj i œj\n|@@@i_l_j@ |\n _@@@@@@@^\n ^@@@@@@@R( :3\n @@@@@@@@(;@:3\n @@ i@@^Or PPi\n @@ l@ /@ ƒmAQƒm\n @@ l ^@@r @@l");
			break;
			
			case 3:
				printf("     QQQQQ\n@ ^ @@@@  _\n ^@ „Ÿ @@ \ R@‘Mà¡\n|@i œj i œj\n|@@@i_l_j@ |\n _@@@@@@@^\n ^@@@@@@@R( :3\n @@@@@@@@(;@:3\n @@ i@@^Or PPi\n @@ l@ /@ ƒmAQƒm\n @@ l ^@@r @@l");
			break;
			
			default:
				printf("     QQQQQ\n@ ^ @@@@  _\n ^@ „Ÿ @@ \ R@Overe the rainbow...\n|@i œj i œj\n|@@@i_l_j@ |\n _@@@@@@@^\n ^@@@@@@@R( :3\n @@@@@@@@(;@:3\n @@ i@@^Or PPi\n @@ l@ /@ ƒmAQƒm\n @@ l ^@@r @@l");
			break;
		}
	}
	
	return 0;
}
